Search.setIndex({docnames:["databases","examples/README","examples/chat-backend/README","examples/chat-storage-mongo/README","examples/chat-storage-postgres/README","examples/docker/README","index","intro","license","mockserver","reference","servicerunner","staticfiles","testpoint","utils"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.cpp":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,"sphinx.ext.intersphinx":1,"sphinx.ext.todo":1,"sphinx.ext.viewcode":1,sphinx:56},filenames:["databases.rst","examples/README.rst","examples/chat-backend/README.rst","examples/chat-storage-mongo/README.rst","examples/chat-storage-postgres/README.rst","examples/docker/README.rst","index.rst","intro.rst","license.rst","mockserver.rst","reference.rst","servicerunner.rst","staticfiles.rst","testpoint.rst","utils.rst"],objects:{"pytest.mark":{nofilldb:[0,0,1,""]},"testsuite.daemons.pytest_plugin":{ensure_daemon_started:[11,0,1,""],register_daemon_scope:[11,0,1,""],service_spawner:[11,0,1,""]},"testsuite.daemons.service_client":{Client:[11,1,1,""]},"testsuite.daemons.service_client.Client":{"delete":[11,2,1,""],__init__:[11,2,1,""],get:[11,2,1,""],options:[11,2,1,""],patch:[11,2,1,""],post:[11,2,1,""],put:[11,2,1,""],request:[11,2,1,""]},"testsuite.databases.mongo.pytest_plugin":{mongo_host:[0,0,1,""],mongodb:[0,0,1,""]},"testsuite.databases.mongo.pytest_plugin.pytest.mark":{filldb:[0,0,1,""]},"testsuite.databases.pgsql.discover":{find_databases:[0,0,1,""]},"testsuite.databases.pgsql.pytest_plugin":{ServiceLocalConfig:[0,1,1,""],pgsql:[0,0,1,""],pgsql_local:[0,0,1,""],pgsql_local_create:[0,0,1,""]},"testsuite.databases.pgsql.pytest_plugin.ServiceLocalConfig":{get_connection_string:[0,2,1,""]},"testsuite.databases.pgsql.pytest_plugin.pytest.mark":{pgsql:[0,0,1,""]},"testsuite.plugins.common":{load:[12,0,1,""],load_binary:[12,0,1,""],load_json:[12,0,1,""],load_yaml:[12,0,1,""]},"testsuite.plugins.mockserver":{HandlerInstaller:[9,1,1,""],MockserverInfo:[9,1,1,""],mockserver:[9,0,1,""],mockserver_info:[9,0,1,""]},"testsuite.plugins.mockserver.HandlerInstaller":{NetworkError:[9,3,1,""],TimeoutError:[9,3,1,""],base_url:[9,4,1,""],handler:[9,2,1,""],host:[9,4,1,""],json_handler:[9,2,1,""],make_response:[9,2,1,""],port:[9,4,1,""],url:[9,2,1,""]},"testsuite.plugins.mockserver.MockserverInfo":{base_url:[9,4,1,""],host:[9,4,1,""],port:[9,4,1,""],ssl:[9,4,1,""],url:[9,2,1,""]},"testsuite.plugins.testpoint":{testpoint:[13,0,1,""]},"testsuite.utils.callinfo":{AsyncCallQueue:[14,1,1,""],acallqueue:[14,0,1,""]},"testsuite.utils.callinfo.AsyncCallQueue":{flush:[14,2,1,""],has_calls:[14,4,1,""],next_call:[14,2,1,""],times_called:[14,4,1,""],wait_call:[14,2,1,""]}},objnames:{"0":["py","function","Python function"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","exception","Python exception"],"4":["py","attribute","Python attribute"]},objtypes:{"0":"py:function","1":"py:class","2":"py:method","3":"py:exception","4":"py:attribute"},terms:{"01t12":[2,3],"31t21":4,"byte":9,"case":[0,9,12],"class":[9,10,14],"const":[9,13],"default":[0,2,3,4,9,11,12],"float":11,"function":[9,11,12,13,14],"import":[0,2,3,4,11],"int":[0,2,3,4,9],"long":9,"return":[0,2,3,4,9,11,12,13,14],"static":[0,2,6,10],"switch":9,"throw":9,"true":[3,9,14],"while":9,AND:8,And:[0,9],BUT:8,FOR:8,For:1,INTO:4,NOT:8,THE:8,The:[1,7,8],Then:[5,9],USE:8,Use:0,Using:9,WITH:8,With:13,__file__:[0,2,3,4],__init__:11,__main__:[2,3,4],__name__:[2,3,4],_create_connection_pool:[],_id:[0,3],_init_app:4,_novalu:9,about:[9,14],abov:[1,8],acallqueu:14,access:[0,6,7,10],acquir:4,act:9,action:8,actual:[1,9],add:[0,10,14],add_argu:[2,3,4],add_rout:[2,3,4],address:9,advantag:9,affect:14,after:9,aiohttp:[2,3,4,9,11],alia:9,alic:[2,3],all:[1,5,8,9],also:9,altern:1,although:7,ani:[7,8,9],anoth:9,anymor:9,api:[6,9],app:[2,3,4],appic:13,appli:0,applic:[2,3,4],approach:7,apt:5,arg:[2,3,4,11,12,14],argpars:[2,3,4],argument:[11,14],argumentpars:[2,3,4],aris:8,aseert:13,assert:[0,2,3,4,7,9,13],associ:[8,12],async:[2,3,4,9,11,13,14],asynccallqueu:[9,10,13],asyncio:[4,11],asynciomotorcli:3,asyncpg:[4,5],author:8,auto:[9,13],avail:9,await:[2,3,4,9,11,13,14],backend:1,background:9,bar:[4,13],base:[1,3,7,9,10,11,14],base_commit_hash:14,base_url:[2,9,11],baseurl:[],basic:[0,9,11],bearer:11,becaus:9,befor:[0,7],begin:9,behaviour:9,being:[7,11,13],bin:[5,12],binari:[5,11,12],black:7,block:14,bob:[2,3],bodi:[2,3],bool:0,bound:13,box:7,branch:14,browser:1,bson:12,build:[5,9],bytearrai:9,bytes_data:12,call:[7,9,13,14],callabl:14,callinfo:14,callqueu:14,callqueueerror:14,callqueuetimeouterror:14,can:[0,1,9,14],caus:9,cfg:5,chang:14,charact:9,charg:8,charset:9,chat:1,chat_db:3,chat_messag:4,chat_storage_postgr:4,check:[7,14],check_url:[2,3,4,11],choic:9,claim:8,clean:5,clear:[0,14],client:[2,3,4,5,9,11,13],clientsess:[2,11],cluster:0,code:[9,13],collect:[0,3],collection_nam:0,collectionwrapp:0,command:[0,9],commit:14,commit_hash:14,common:[10,12],commun:1,complet:[1,9],compos:1,concat:9,condit:[8,13],config:11,configur:[0,5,9],conftest:[0,1,14],connect:[0,3,4,8],connection_pool:[],connection_str:[],consid:9,contain:[9,11],content:[9,13],content_typ:9,context:11,continu:9,contract:8,conveni:1,copi:[5,8],copyright:8,correspond:9,could:9,creat:[0,2,3,4,9,11],create_pool:4,ctrl:1,current:[0,9,12,14],current_branch:14,currentd:3,cursor:[0,4],cusror:0,custom:0,cute:3,daemon:[2,3,4,11],damag:8,data:[0,4,7,11,12,13],databas:[1,3,4,6,10],database1:0,database2:0,database_nam:0,date:2,db_collection_nam:0,db_collection_name_foo:0,db_example_collect:[],db_messag:3,dbname:0,deal:8,decor:[9,13],def:[0,2,3,4,9,11,12,13,14],default_head:11,deleg:2,delet:11,demonstr:1,desc:4,descend:3,descript:[2,3,4],develop:[9,14],dict:[0,11,14],dictionari:[0,9,11],direct:7,directli:[3,7],directoi:12,directori:[0,1,12],disabl:0,discov:[0,4],distribut:[8,9],diverg:14,doc:[0,3,7,12],doc_id:3,docker:[6,14],dockerfil:1,document:[8,9],doe:12,driver:0,dsn:4,due:14,each:[0,2,3,7,14],earli:5,els:[],empti:[0,14],emul:9,enabl:[0,7,9,10,13],eniron:5,ensur:[0,9,11],ensure_daemon_start:[2,3,4],envinfo:10,environ:7,error:[10,13],event:8,exact:9,exampl:[0,6,7,9,12,13],example_collect:0,example_db:0,example_t:[],except:9,execut:[0,4,11],exist:0,express:8,extern:[1,2,7,9],external_service_baseurl:[],extra:0,fail:9,fals:[0,3,9,11],fast:9,featur:9,fetch:4,fetchon:4,fetchrow:[],fetchval:4,field:9,file:[0,6,8,10],filenam:[0,12],filenotfounderror:12,filerespons:2,fill:[0,7],find:3,find_databas:4,find_on:[0,3],first:5,fit:8,fixtur:[2,3,4,10],flag:[9,14],flush:14,follow:[0,7,8,12,14],foo:[0,4,12,13],foo_handl:13,forc:0,forget:9,found:[0,12],framework:7,free:8,from:[0,2,3,4,5,7,8,9,11,12,13,14],frontend:1,fucntion:14,full:9,func:14,furnish:8,gener:11,generate_service_config:11,get:[2,3,4,5,9,11],get_connection_str:[0,4],get_event_loop:4,getenv:[2,3,4],gethead:9,git:14,global:9,gnu:7,good:9,grant:8,handl:[9,13],handle_json_from_external_servic:[],handle_list:2,handle_p:[2,3,4],handle_retriev:2,handle_root:2,handle_send:2,handle_suggest_from_external_servic:[],handle_sum_from_external_servic:[],handle_text_from_external_servic:[],handler:[2,9,13],handlerinstal:9,happen:9,happi:4,has:[7,13],has_cal:[13,14],hashead:9,have:[0,1],header:[9,11,14],hello:[2,4,9],help:[2,3,4],here:[1,5],herebi:8,hex:3,holder:8,hook:12,host:[0,9,13],hostnam:[9,14],how:1,html:[1,2],http:[1,2,3,4,7,9,11,13],http_method:11,http_timeout:[2,3,4],httpclient:9,imag:5,implement:[1,11,13],impli:8,includ:8,index:[0,3,6],indic:14,inform:[9,14],ini:9,inject:13,insert:4,insert_on:[],insid:9,instal:[0,1,5,9],instanc:[0,9,11,13],instead:9,integr:[0,1,2,4],interact:1,interfac:13,intern:[7,9],is_common_schema_path:0,is_fallback:[],isen:13,isinst:[],isoformat:[3,4],issu:14,its:[7,9,14],joinpath:[0,2,3,4],json:[0,2,3,4,9,11,12,13],json_handl:[2,9],json_obj:12,json_respons:[2,3,4,9],json_util:12,kei:3,kind:8,known:0,kwarg:[11,12],length:14,liabil:8,liabl:8,licens:6,like:9,limit:[3,4,8],line:[0,9],linux:7,list:[0,2,4,10,11],llc:8,load:0,loader:12,local:[0,12],localhost:[0,2,3,4,11],locat:12,look:[0,7],loop:4,love:3,machin:14,maco:7,made:7,mai:7,main:[2,3,4],make:[1,7,9],make_respons:[2,9],manag:11,mani:13,manner:0,map:[0,9],mark:10,match:9,match_info:[],maxsplit:[],mechan:7,merchant:8,merg:8,messag:[1,2,3,4],method:14,microservic:[1,7],migrations_path:0,mimic:7,mit:8,mkdir:5,mock:[7,9],mockerv:13,mockserv:[1,2,4,6,7,10,11,12,13],mockserver_info:2,mockserverinfo:9,modifi:8,modul:6,mongo:[1,3,7,10],mongo_collect:[0,3],mongo_host:3,mongo_uri:3,mongodb:[1,5,7],mongodb_set:[0,3],mosc:[],motor:[3,5],motor_asyncio:3,msg_id:3,must:[11,13],name:[0,2,3,4,9,11,13],need:[1,5],netowork:9,network:[10,14],networkerror:9,next_cal:[13,14],nofail:9,none:[0,9,11,14],noninfring:8,normal:9,notic:8,now:9,number:9,numbers_handl:[],object:9,object_hook:12,observ:9,obtain:8,off:[9,14],onc:[0,9],one:[7,9],onli:[7,9],open:1,opentrac:10,oper:6,opt:5,option:[0,9,11],order:[0,4,7],ordrer:0,orient:7,origin:[9,13],other:[7,8],otherwis:[8,9],out:[7,8],output:1,overrid:0,overview:6,own:[0,7,9],packag:12,page:6,param:11,paramet:[0,9,11,13,14],parent:[0,2,3,4],parse_arg:[2,3,4],parser:[2,3,4],particular:[1,8],pass:[9,13],patch:11,path:[0,2,3,4,9,11,12,13],pathlib:[0,2,3,4],pattern:0,payload:[],per:[0,9],perform:[7,9,11],performrequest:9,period:9,permiss:8,permit:8,person:8,pg_dbname:0,pg_example_db:[],pg_schemas_path:0,pgmigrat:0,pgshardeddatabas:0,pgsql:4,pgsql_local:4,pgsql_local_cr:4,pgsql_plugin:0,ping:[2,3,4,11],pip:5,plugin:[0,9,10,12,13,14],point:14,pool:4,pop:[3,14],popul:0,port:[0,2,3,4,9],portion:8,post:[2,3,4,9,11,13],postgr:[1,4],postgres_1:1,postgresql:[1,5,7,10],postgresql_base_connstr:[],precondit:7,prefix:[0,9],press:1,princip:7,principl:6,problem:9,proce:9,process:[0,7,9,11,13],product:9,properli:7,protocol:[],provid:[0,1,8,9,12,14],psycopg2:0,publish:8,purpos:8,put:[11,14],pymongo:[0,3],pytest3:7,pytest:[1,2,3,4,7,9,10,11,14],pytest_plugin:[0,2,3,4,10,11,14],python3:[2,3,4,5,14],python:[1,5,7],python_path:[2,3,4],queri:0,queue:14,quit:1,rabbit:3,race:13,rais:[9,12,14],raise_for_statu:2,raw_request:9,raw_respons:11,read:[0,3,7],read_respons:3,reason:[],recal:9,receiv:7,record:4,redi:[7,10],refer:6,regist:[9,11,13],register_daemon_scop:[2,3,4],rel:12,relat:14,remov:[2,3],report:14,repres:7,reproduc:13,request:[2,3,4,7,9,11,13],requir:[0,5,7,9,13],respon:[9,13],respond:9,respons:[2,3,4,9,13],response_bodi:2,response_text:[],restart:[2,3],restrict:8,result:[2,7],retriev:[2,3,4,14],retrywrit:3,reutrn:9,revers:2,right:8,root:2,rout:[2,3,4],routetabledef:[2,3,4],row:[],row_id:4,run:[5,6,9,11,12,13],run_app:[2,3,4],run_until_complet:4,runtest:1,runtime_error:9,scenario:[],schema:[0,4],schema_path:0,scope:[0,2,3,4,11],search:[6,12],second:14,section:14,see:[0,1],select:[0,4],self:7,sell:8,send:[2,3,4],sent:7,separ:7,server:[1,2,3,4,7,9],server_cli:[2,3,4,11],servic:[0,1,6,7,9,10,13],service_baseurl:[2,3,4,11],service_cli:[2,3,4,9,11],service_client_opt:[2,3,4],service_config_path:11,service_daemon:[2,3,4,11],service_head:11,service_nam:0,service_name_example_db:[],service_path:[2,3,4],service_spawn:[2,3,4],servicelocalconfig:0,servicename_dbnam:0,session:[0,2,3,4,9,11,13],set:[0,3,7,9],setup:[5,7,9],shall:8,shard:0,shortcut:9,should:9,show:[],side:[9,13],similar:1,simpl:[1,9,13],slow:14,softwar:8,solut:9,some:9,sort:3,sourc:[0,9,11,12,13,14],span:9,span_id_head:11,spanid:9,spawn:[2,3,4,6,10],spawner:11,special:11,specif:9,specifi:[0,9],split:[],sql:0,sqldata_path:[0,4],ssl:9,ssl_context:11,staatic:0,start:[0,5,7,9,11],startswith:[],startup:1,state:[0,7,13],static_fil:[],staticmethod:9,statu:[2,9,14],status_cod:[3,4,9,13],std:9,stop:0,storag:[1,2],storage_service_url:2,store:[1,2,14],stored_messag:3,str:[0,2,3,4,9,11],string:[0,4],strip:[],structur:1,subject:8,sublicens:8,substanti:8,substitut:12,substr:[],suffix:0,suggest:7,suggest_handl:[],sum:[],support:[6,9,10,13],suppos:9,sync:14,synchron:[0,13,14],system:[1,6],take:9,task:[2,9],taxi:[7,11],tell:9,termin:9,test:[0,7,9,11,12,13,14],test_case_nam:12,test_creat:[],test_foo:[0,13],test_get_json_from_external_servic:[],test_get_text_from_external_servic:[],test_handl:13,test_messages_retriev:[2,3,4],test_messages_send:[2,3,4],test_mockserv:9,test_pg:0,test_postgres_handl:[],test_read_preexist:[],test_read_preexisting_using_mark:[],test_read_preexisting_using_static_fil:[],test_servic:12,test_someth:12,test_suggest_fallback:[],test_sum_numbers_from_external_servic:[],test_timeout:9,testcas:[9,13],testpoint:[6,7,10],testpoint_handl:13,tests:11,tests_dir:[0,4],testscas:12,testst:13,testsuit:[0,1,2,3,4,5,9,10,11,12,13,14],testsuite_error:9,text:[2,3,4],text_handl:[],than:7,them:3,thi:[0,8,9,10,14],though:[],through:7,timeout:[2,10,11,14],timeouterror:9,times_cal:[2,9,13,14],tmp:5,to_list:3,tort:8,trace:9,traceid:9,turn:[9,14],two:1,txt:12,type:[2,3,4,9,13],typic:[],ubuntu:5,uncommit:14,underli:14,undesir:9,unhandl:9,union:9,unless:9,unmock:9,unrel:9,updat:5,update_on:3,upsert:3,uri:3,url:[1,2,9,11],usag:0,use:[0,1,8,14],used:[0,7,9,11],user_input:[],usernam:[2,3,4],uses:[0,13],using:[0,1],usr:5,usual:9,util:[6,9,10],uuid4:3,uuid:3,val:[],valu:[0,4,13],verifi:7,versa:13,via:0,vice:13,view:13,virtualenv:5,wai:13,wait:14,wait_cal:[13,14],warn:9,warranti:8,web:[2,3,4,7,9],web_respons:9,well:7,were:7,what:[6,9],when:[7,9,11],where:[0,4],whether:[7,8,9],which:[7,9,14],whole:0,whom:8,without:8,work:[0,6,10,13],world:[4,9],would:12,wrap:[9,13],wrapper:[0,14],write:7,written:[1,7],x_real_ip:11,xxx:1,yaml:[1,12],yaml_obj:12,yandex:[0,5,7,8,11],yield:[2,3,4,11],you:[0,1,5,9,14],your:[0,9,12]},titles:["Database support","Examples","Chat backend example","MongoDB chat storage backend example","PostgreSQL chat storage backend example","Docker integration example","testsuite: microservice testing framework","Overview","License","Mockserver","API reference","Spawning and accessing service","Working with static files","Testpoint","Utils"],titleterms:{"class":[0,11],"function":0,"static":12,access:11,api:10,applic:1,asynccallqueu:14,backend:[2,3,4],chat:[2,3,4],common:0,compos:5,conftest:[2,3,4],databas:[0,7],docker:[1,5],dockerfil:5,ensure_daemon_start:11,envinfo:14,error:9,exampl:[1,2,3,4,5],file:12,filldb:0,find_databas:0,fixtur:[0,9,11,12,13],framework:6,indic:6,integr:5,licens:8,load:12,load_binari:12,load_json:12,load_yaml:12,mark:0,microservic:6,mockserv:9,mockserver_info:9,mongo:0,mongo_host:0,mongodb:[0,3],network:9,nofilldb:0,opentrac:9,oper:7,overview:7,pgsql:0,pgsql_local:0,pgsql_local_cr:0,postgresql:[0,4],principl:7,pytest:0,redi:0,refer:10,register_daemon_scop:11,run:[1,7],servic:[2,3,4,11],service_client_opt:11,service_spawn:11,spawn:11,storag:[3,4],support:[0,7],system:7,tabl:6,test:[1,2,3,4,6],testpoint:13,testsuit:[6,7],timeout:9,util:14,what:7,work:12,yaml:5}})